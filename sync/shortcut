sudo killall leveldb_main nova_shared_main nova_multi_thread_compaction nova_server_main java collectl sar
rm -rf /home/yuhang/NovaLSM/db_files/* && rm -rf /home/yuhang/NovaLSM/pm_files/* && mkdir -p /home/yuhang/NovaLSM/db_files/stoc_files && mkdir -p /home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 && mkdir -p /home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024
rm -rf /home/yuhang/NovaLSM/pm_files/*
# cp -r /home/yuhang/NovaLSM/db_files/snapshot-1-2-1-uniform-64-16-0.99-1/nova-db-10000000-1024/ /home/yuhang/NovaLSM/db_files/ > /dev/null 2> /dev/null < /dev/null &
mkdir -p /home/yuhang/NovaLSM/db_files/stoc_files
mkdir -p /home/yuhang/NovaLSM/db_files/nova-db-10000000-1024
mkdir -p /home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &


sudo killall leveldb_main nova_shared_main nova_multi_thread_compaction nova_server_main java collectl sar
rm -rf /home/yuhang/NovaLSM/db_files/*
rm -rf /home/yuhang/NovaLSM/pm_files/*
# cp -r /home/yuhang/NovaLSM/db_files/snapshot-1-2-1-uniform-64-16-0.99-1/nova-db-10000000-1024/ /home/yuhang/NovaLSM/db_files/ > /dev/null 2> /dev/null < /dev/null &
mkdir -p /home/yuhang/NovaLSM/db_files/stoc_files
mkdir -p /home/yuhang/NovaLSM/db_files/nova-db-10000000-1024
mkdir -p /home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

# cd /home/yuhang/NovaLSM/YCSB-Nova && stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/load_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/preload-out < /dev/null &
# cd /home/yuhang/NovaLSM/YCSB-Nova && stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 true range 10000000 1200 uniform 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &


python scripts/exp/database_shell.py --nova_servers=192.168.98.74:10993,192.168.98.70:10993 --partition=range --recordcount=10000000 --value_size=1024 --config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config



# 预load
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/load_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/preload-out < /dev/null &

# workloada uniform
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# 单线程
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 1 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloadw uniform
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloadw /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloade uniform
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloade /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloadpr uniform
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 uniform 1024 workloadpr /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloada zipfian
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 zipfian 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# 单线程
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 1 192.168.98.74:10993 false range 10000000 1200 zipfian 1024 workloada /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloadw zipfian
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 zipfian 1024 workloadw /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloade zipfian
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 zipfian 1024 workloade /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &

# workloadpr zipfian
stdbuf --output=0 --error=0 bash /home/yuhang/NovaLSM/scripts/exp/run_ycsb.sh 60 192.168.98.74:10993 false range 10000000 1200 zipfian 1024 workloadpr /home/yuhang/NovaLSM/config/nova-tutorial-config 10 0 0.99 0 >& /tmp/results/client-2-1-out < /dev/null &






# 没有引入pm_pool的
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &


# 这个是正常+mmap一体的 
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=80 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=80 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

# 最新+大pm pool
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

# 最新 + 大pm pool + 旧版生成log
/home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false
/home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false

# 最新+大pm pool + 新版生成log + batch_size
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --log_type=pm --batch_size=1000 --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --log_type=pm --batch_size=1000 --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

# 最新+大pm pool + 新版生成log + disk log
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --log_type=disk --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --log_type=disk --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=100 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &


# 最新+小pm pool + 新版生成log
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --log_type=dram --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --pm_pool_size_gb=40 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --log_type=dram --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --pm_pool_size_gb=40 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &



# 这个是原版的
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &

# 这个是原版的 + log
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &
sudo stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=rdma --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=1 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-1-out < /dev/null &


# 分文件mmap 只是为了debug
stdbuf --output=0 --error=0 /home/yuhang/NovaLSM/nova/nova_server_main --ltc_migration_policy=immediate --enable_range_index=true --num_migration_threads=32 --num_sstable_replicas=1 --level=6 --l0_start_compaction_mb=4096 --subrange_no_flush_num_keys=100 --enable_detailed_db_stats=false --major_compaction_type=sc --major_compaction_max_parallism=32 --major_compaction_max_tables_in_a_set=20 --enable_flush_multiple_memtables=true --recover_dbs=true --num_recovery_threads=32 --sampling_ratio=1 --zipfian_dist_ref_counts=/tmp/zipfian --client_access_pattern=uniform --memtable_type=static_partition --enable_subrange=true --num_log_replicas=1 --log_record_mode=none --scatter_policy=power_of_two --number_of_ltcs=1 --enable_lookup_index=true --l0_stop_write_mb=10240 --num_memtable_partitions=64 --num_memtables=256 --num_rdma_bg_workers=16 --db_path=/home/yuhang/NovaLSM/db_files/nova-db-10000000-1024 --pm_path=/home/yuhang/NovaLSM/pm_files/nova-db-10000000-1024 --levels_in_pm=0 --num_storage_workers=256 --stoc_files_path=/home/yuhang/NovaLSM/db_files/stoc_files --max_stoc_file_size_mb=18432 --sstable_size_mb=16 --ltc_num_stocs_scatter_data_blocks=1 --all_servers=192.168.98.74:10993,192.168.98.70:10993 --server_id=0 --mem_pool_size_gb=30 --use_fixed_value_size=1024 --ltc_config_path=/home/yuhang/NovaLSM/config/nova-tutorial-config --ltc_num_client_workers=512 --num_rdma_fg_workers=16 --num_compaction_workers=256 --block_cache_mb=0 --row_cache_mb=0 --memtable_size_mb=16 --cc_log_buf_size=1024 --rdma_port=20624 --rdma_max_msg_size=262144 --rdma_max_num_sends=32 --rdma_doorbell_batch_size=8 --enable_rdma=True --enable_load_data=False --use_local_disk=false >& /tmp/results/server-0-out < /dev/null &